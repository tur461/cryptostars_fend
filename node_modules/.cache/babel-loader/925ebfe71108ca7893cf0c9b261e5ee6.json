{"ast":null,"code":"import log from \"../logging/logger\";\nimport { toStd } from \"../utils\";\n\nfunction getThresholdAmountFromTolerance(amount, tolerance, xactIn, dec) {\n  // isExactIn true means subtract (tolerance from output amount) from output amount\n  // to get threshold amount\n  // isExactIn false means add (tolerance from input amount) to input amount\n  // to get threshold amount\n  let th = 0;\n  amount = amount.toString() / 10 ** dec;\n  log.i('th amount:', amount.toString(), tolerance, xactIn);\n  if (xactIn) th = amount - amount * tolerance / 100;else th = amount + amount * tolerance / 100;\n  return `${toStd(th * 10)}`;\n}\n\nfunction getDeadline(min) {\n  min = parseFloat(min);\n  return Math.floor((Date.now() + min * 60 * 1000) / 1000);\n}\n\nexport { getDeadline, getThresholdAmountFromTolerance };","map":{"version":3,"names":["log","toStd","getThresholdAmountFromTolerance","amount","tolerance","xactIn","dec","th","toString","i","getDeadline","min","parseFloat","Math","floor","Date","now"],"sources":["/home/user/Desktop/ashucryptyostart/crypto-star/src/services/contracts/utils.js"],"sourcesContent":["import log from \"../logging/logger\";\nimport { toStd } from \"../utils\";\n\nfunction getThresholdAmountFromTolerance(amount, tolerance, xactIn, dec) {\n    // isExactIn true means subtract (tolerance from output amount) from output amount\n    // to get threshold amount\n    // isExactIn false means add (tolerance from input amount) to input amount\n    // to get threshold amount\n    let th = 0;\n    amount = amount.toString() / 10**dec;\n    log.i('th amount:', amount.toString(), tolerance, xactIn);\n    if(xactIn) th = amount - (amount * tolerance/100);\n    else th = amount + (amount * tolerance/100)\n    return `${toStd(th*10)}`;\n}\n\nfunction getDeadline(min) {\n    min = parseFloat(min);\n    return Math.floor((Date.now() + min * 60 * 1000)/1000); \n}\n\nexport {\n    getDeadline,\n    getThresholdAmountFromTolerance,\n}"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,mBAAhB;AACA,SAASC,KAAT,QAAsB,UAAtB;;AAEA,SAASC,+BAAT,CAAyCC,MAAzC,EAAiDC,SAAjD,EAA4DC,MAA5D,EAAoEC,GAApE,EAAyE;EACrE;EACA;EACA;EACA;EACA,IAAIC,EAAE,GAAG,CAAT;EACAJ,MAAM,GAAGA,MAAM,CAACK,QAAP,KAAoB,MAAIF,GAAjC;EACAN,GAAG,CAACS,CAAJ,CAAM,YAAN,EAAoBN,MAAM,CAACK,QAAP,EAApB,EAAuCJ,SAAvC,EAAkDC,MAAlD;EACA,IAAGA,MAAH,EAAWE,EAAE,GAAGJ,MAAM,GAAIA,MAAM,GAAGC,SAAT,GAAmB,GAAlC,CAAX,KACKG,EAAE,GAAGJ,MAAM,GAAIA,MAAM,GAAGC,SAAT,GAAmB,GAAlC;EACL,OAAQ,GAAEH,KAAK,CAACM,EAAE,GAAC,EAAJ,CAAQ,EAAvB;AACH;;AAED,SAASG,WAAT,CAAqBC,GAArB,EAA0B;EACtBA,GAAG,GAAGC,UAAU,CAACD,GAAD,CAAhB;EACA,OAAOE,IAAI,CAACC,KAAL,CAAW,CAACC,IAAI,CAACC,GAAL,KAAaL,GAAG,GAAG,EAAN,GAAW,IAAzB,IAA+B,IAA1C,CAAP;AACH;;AAED,SACID,WADJ,EAEIR,+BAFJ"},"metadata":{},"sourceType":"module"}